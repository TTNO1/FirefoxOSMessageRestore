"use strict";document.addEventListener("DOMContentLoaded",()=>{const startURL="https://duckduckgo.com/";let browser=document.createElement("web-view");browser.openWindowInfo=null;browser.setAttribute("id","browser");browser.setAttribute("src",startURL);console.log("append browser");document.body.append(browser);browser.go=function(){browser.src=document.getElementById("url").value;};["action-back","action-forward","action-go"].forEach(id=>{let btn=document.getElementById(id);let action=btn.dataset.cmd;btn.addEventListener("click",()=>{browser[action]();});}); browser.addEventListener("locationchange",aEvent=>{UpdateActionsUI(aEvent.detail);}); UpdateActionsUI({canGoBack:false,canGoForward:false,url:startURL});function UpdateActionsUI({canGoBack,canGoForward,url}){document.getElementById("action-back").toggleAttribute("disabled",!canGoBack);document.getElementById("action-forward").toggleAttribute("disabled",!canGoForward);document.getElementById("url").value=url;}},{once:true});